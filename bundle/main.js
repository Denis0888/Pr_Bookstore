(()=>{"use strict";let n=0,s=document.querySelector(".nav_info_num");const t=document.querySelector(".case-books"),i=document.querySelector(".btn_load-more"),e=document.querySelectorAll(".category-books_item");let a,o="subject:",l=0;async function c(){(await fetch(`https://www.googleapis.com/books/v1/volumes?q=subject:${o}&key=AIzaSyC8YBwRI2UO8lk5k4S31Z77MyGZr_Lu_bI&printType=books&startIndex=${l}&maxResults=6&langRestrict='ru'`).then((n=>n.json())).then((n=>n)).catch((()=>{console.log("error")}))).items.forEach((n=>{let s=`<div class="book-position">\n                          <img class="${n.volumeInfo?.imageLinks?.thumbnail?"book-position_image":"book-position_image-none"}" src="${n.volumeInfo?.imageLinks?.thumbnail}" alt="foto book">\n                          <div class="book-position_info">\n                              <h2 class="book-position_info-author">${n.volumeInfo?.authors}</h2>\n                              <h2 class="book-position_info-title">${n.volumeInfo?.title}</h2>\n                              <div class="${n.volumeInfo?.averageRating?"rating-block":"rating-block-none"}">\n                                  <div class="${n.volumeInfo?.averageRating?"rating-block_stars":""}">   \n                                      <div class="${1===n.volumeInfo?.averageRating?"rating-block_stars__one":""}">\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__grey"></div>\n                                          <div class="rating-block_stars__grey"></div>\n                                          <div class="rating-block_stars__grey"></div>\n                                          <div class="rating-block_stars__grey"></div>\n                                      </div>\n                                      <div class="${2===n.volumeInfo?.averageRating?"rating-block_stars__two":""}">\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__grey"></div>\n                                          <div class="rating-block_stars__grey"></div>\n                                          <div class="rating-block_stars__grey"></div>\n                                      </div>\n                                      <div class="${3===n.volumeInfo?.averageRating?"rating-block_stars__three":""}">\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__grey"></div>\n                                          <div class="rating-block_stars__grey"></div>\n                                      </div>\n                                      <div class="${4===n.volumeInfo?.averageRating?"rating-block_stars__four":""}">\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__grey"></div>\n                                      </div>\n                                      <div class="${5===n.volumeInfo?.averageRating?"rating-block_stars__five":""}">\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__yellow"></div>\n                                          <div class="rating-block_stars__yellow"></div>\n                                      </div>\n                                  </div>\n                                  <h2 class="${n.volumeInfo?.ratingsCount?"rating-block_count":"rating-block_count-none"}">${n.volumeInfo?.ratingsCount} review</h2>\n                              </div>\n                              <h2 class="${n.volumeInfo?.description?"book-position_info-description":"book-position_info-description-none"}">${n.volumeInfo?.description}</h2>\n                              <h2 class="${n.saleInfo?.retailPrice?.amount?"book-position_info-sale":"book-position_info-sale-none"}">${n.saleInfo?.retailPrice?.amount} &#8381</h2>\n                              <button class="btn_buy-now" type="button" data-btnbuy="${n.id}">buy now</button>\n                          </div>\n                      </div>`;t.innerHTML+=s})),document.querySelectorAll(".btn_buy-now").forEach((t=>{let i=t;t.addEventListener("click",(()=>{i.classList.toggle("btn_in_the_cart"),i.classList.contains("btn_in_the_cart")?(i.innerText="In the cart",n+=1,s.innerText=n,s.innerText>0&&s.classList.add("active")):(i.innerText="buy now",n-=1,s.innerText=n,0==s.innerText&&s.classList.remove("active"))}))}))}const r=["src/images/banner1.png","src/images/banner2.png","src/images/banner3.png"];document.addEventListener("DOMContentLoaded",(function(){!function(){let n=document.querySelector(".container-slider"),s=document.querySelector(".container-dots");function t(t){n.querySelector(".active").classList.remove("active"),n.querySelector(".n"+t).classList.add("active"),s.querySelector(".active").classList.remove("active"),s.querySelector(".n"+t).classList.add("active")}r.forEach(((s,t)=>{let i=`<div class='img n${t} ${0===t?"active":""}' style='background-image:url(${r[t]});' data-index='${t}'></div>`;n.innerHTML+=i})),r.forEach(((n,t)=>{let i=`<div class="dot n${t} ${0===t?"active":""}" data-index="${t}"></div>`;s.innerHTML+=i})),s.querySelectorAll(".dot").forEach((n=>{n.addEventListener("click",(function(){t(this.dataset.index)}))})),setInterval((()=>{let s=+n.querySelector(".active").dataset.index;t(s===r.length-1?0:s+1)}),5e3)}(),c(),i.addEventListener("click",(()=>{l+=6,e.forEach((n=>{n.classList.contains("active")&&(a=n.innerText)})),o=`${a}`,c()})),e.forEach((i=>{let l=i;i.addEventListener("click",(()=>{e.forEach((n=>{n.classList.contains("active")&&n.classList.remove("active")})),l.classList.add("active"),i.classList.contains("active")&&(a=i.innerText),t.innerHTML="",n=0,s.classList.remove("active"),o=`${a}`,c()}))}))}))})();